var $menuDark=!1,$videoLoaded=!1,$imagesLoaded=!1,$imgGlobalID=0,$bookFirstOccurrence=!0,$scrollPos=0,$updateReady=!0,$lastPosX=0,$lastPosY=0,$isSafari=navigator.userAgent.indexOf('Safari')!=-1&&navigator.userAgent.indexOf('Mac')!=-1&&navigator.userAgent.indexOf('Chrome')==-1,windowWidth,windowHeight;(function(a){a(function(){var k,o,r,z,e,b,c,d,g,f,h;windowWidth=a(window).width(),windowHeight=a(window).height(),a(document).ready(function(){var b,d,g,e,h,f,c;P(),a('.brownieIco').on('click',function(){a('.brownie').addClass('closed'),a(this).parent().parent().parent().removeClass('closed'),a(this).parent().parent().parent().attr('id')=="cookieBrownie"&&t()}),a('.accept').on('click',function(){a(this).parent().parent().parent().parent().addClass('closed'),a(this).parent().parent().parent().parent().removeClass('opened'),Q(),l('$newsletterPrompt')!='true'&&setTimeout(function(){i('$newsletterPrompt',!0,60),a('#newsLetterBrownie .brownieIco').trigger('click')},1e3)}),a('.brownieClose').on('click',function(){a(this).parent().parent().parent().addClass('closed')}),a('.customize').on('click',function(){a('#cookieBrownie').hasClass('opened')?a('#cookieBrownie').removeClass('opened'):a('#cookieBrownie').addClass('opened')}),$isSafari&&a('html').addClass('is-safari-osx'),a('.langsContainer a').attr('data-disabled',!0),isTouchEnabled&&(a('body, #hImgContainer, #hImgLayer, #hFacilitiesSticky, nav, #hElementsLayer, .overlay, section.galleryContainer, #footerSticky').height(windowHeight),a('.fullPicture, .fullPicture > div:first-child, #footerTarget, footer').height(windowHeight*2),a('.fullPicture > div:eq(1)').height(windowHeight),a('#hTarget').css('top',windowHeight),isMobile&&a('#footerMain').height(windowHeight)),isMobile&&(a('.hFacilitiesBackground, #hFacilitiesTop ').attr('data-scroll-offset','0,'+windowHeight),a('#hDiningSticky, #footerSticky').removeAttr('data-scroll-sticky').removeAttr('data-scroll-target'),a('#tasteText, #tasteTitle').attr('data-scroll-repeat',''),a('.fullPictureSticky, #otherSticky').removeAttr('data-scroll-sticky'),a('#fullPictureTarget,#fullPictureTarget2,#fullPictureTarget3,#fullPictureTarget4').attr('data-scroll-offset','0,60%'),a('#detailTopImgContainer').removeClass('d400'),a('#detailServicesPic').attr('data-scroll-speed','0.5'),a('.verticalPic, .compositionText').attr('data-scroll-speed','0.3'),a('.compositionPic img, .menuPic img').attr('data-scroll-speed','-0.5'),a('.sliderContainer, .galleryContainer > img, .simplePicture img').attr('data-scroll-speed','-0.25'),a('.langsContainer a').each(function(){a(this).text(a(this).text().substr(0,2))}),a('.hDiningItem.long').addClass('top_translated').addClass('has_transition_3000').attr('data-scroll-class','show').attr('data-scroll-offset','0').attr('data-scroll-repeat',!1),a('#removeTable').attr('data-scroll-offset','0')),scrollMenu=new LocomotiveScroll({el:document.getElementById('navScroller'),smooth:!0,lerp:isMobile?.1:.06,class:'show',scrollbarClass:'m-scrollbar',touchMultiplier:2.5,scrollFromAnywhere:!1,smartphone:{smooth:!0},tablet:{smooth:!0}}),$textIndex=0,a('.text.more p').each(function(){a(this).html().indexOf('<br')!=-1&&a(this).shorten({showChars:a(this).html().indexOf('<br'),ellipsesText:"",moreText:'<div class="oButton onDark has_transition_1500 show bordered open transparent" data-scroll="" data-scroll-repeat="" data-scroll-class="open"> <div class="oContent"><div class="oLabelContainer no_overflow"><span class="oLabel top_hidden has_transition_1000 block d200 transition_all">'+j()+'</span></div></div></div>',lessText:'<div class="oButton onDark has_transition_1500 show bordered open transparent" data-scroll="" data-scroll-repeat="" data-scroll-class="open"> <div class="oContent"><div class="oLabelContainer no_overflow"><span class="oLabel top_hidden has_transition_1000 block d200 transition_all">'+k()+'</span></div></div></div>',onMore:function(){setTimeout(function(){scrollLayer.update()},2)},onLess:function(){setTimeout(function(){scrollLayer.update()},2)}}),$textIndex++});function j(){return lang=='it'?'continua':'more'}function k(){return lang=='it'?'nascondi':'less'}isMobile?a('#detailText .text .shortcontent').length==0&&a('#detailText .hBook').css('margin-top','34px'):a('#detailText .text .shortcontent').length==0&&a('#detailText .hBook').css('margin-top','5vw'),current!="overview"||current=="overview"&&isMobile?(scrollLayer=new LocomotiveScroll({el:document.querySelector('article'),smooth:!0,getDirection:!0,lerp:isMobile?.1:.06,scrollFromAnywhere:!1,touchMultiplier:2.5,class:'show',smartphone:{smooth:!0},tablet:{smooth:!0},direction:'vertical'}),$introTop=!1,$fullPictureScroll=!1,$galleryLocking=!1,$lockTimeout=!1,$pressScrolling=!1,scrollLayer.on('scroll',c=>{if(b=c.direction,$scrollPos=c.scroll.y,isTouchEnabled||($viewElements=Object.entries(c.currentElements),$viewElements.forEach(function(b){a(b[1].el).attr('data-precision')&&($target=a(b[1].el),$target.offsetY=$target.offset().top,$target.offsetX=$target.offset().left,$target.width=$target.outerWidth(),$target.height=$target.outerHeight(),$delta={},$delta.y=$lastPosY-$target.offsetY,$delta.x=$lastPosX-$target.offsetX,$delta.y>0&&$delta.y<$target.height&&$delta.x>0&&$delta.x<$target.width&&!$target.hasClass('target')&&$target.trigger('mouseover'),($delta.y<0||$delta.y>$target.height||$delta.x<0||$delta.x>$target.width)&&$target.hasClass('target')&&$target.trigger('mouseout'))})),current=="index"&&$scrollPos>windowHeight*2.75&&!isMobile?(b=="down"&&a('#mainLogo, #brownies, .mobile, .email, header .ig, header .fb, header .langsContainer').addClass('hidden'),b=="up"&&!$galleryLocking&&a('#mainLogo, #brownies, .mobile, .email, header .ig, header .fb, header .langsContainer').removeClass('hidden')):current=="index"&&isMobile?(b=="down"&&a('#mainLogo, #brownies, .mobile, .email, header .ig, header .fb, header .langsContainer').addClass('hidden'),b=="up"&&!$galleryLocking&&$scrollPos>windowHeight&&a('#mainLogo, #brownies, .mobile, .email, header .ig, header .fb, header .langsContainer').removeClass('hidden')):current!="index"&&(b=="down"&&a('#mainLogo, #brownies, .mobile, .email, header .ig, header .fb, header .langsContainer').addClass('hidden'),b=="up"&&!$galleryLocking&&!$pressScrolling&&a('#mainLogo, #brownies, .mobile, .email, header .ig, header .fb, header .langsContainer').removeClass('hidden')),typeof c.currentElements.hTarget=='object'){let d=c.currentElements.hTarget.progress;isMobile?(b=="down"&&!$introTop&&$scrollPos>5&&($introTop=!0,scrollLayer.scrollTo(windowHeight*1.8)),b=="up"&&$introTop&&($introTop=!1,scrollLayer.scrollTo(0)),a('#hImgLayer').css('transform','translateY('+d*140+'vh) '),a('#hImgCover').css('transform','scale(1,'+1/(d*6+1)+')'),a('#hImg').css('transform','scale(1,'+1*(d*6+1)+') translateX('+d*45+'px) translateY(-'+d*3+'vh)'),a('#hElementsLayer').css('opacity',1-d*5),a('#hVideoLayer').hasClass('open')&&a('#hVideoLayer').trigger('click')):(b=="down"&&!$introTop&&$scrollPos>5&&($introTop=!0,scrollLayer.scrollTo(windowHeight*1.75)),b=="up"&&$introTop&&($introTop=!1,scrollLayer.scrollTo(0)),a('#hImgLayer').css('transform','translateY('+d*166+'vh) translateX(-'+d*22+'vw)'),a('#hImgCover').css('transform','scale('+1/(d*4+1)+')'),a('#hImg').css('transform','scale('+1*(d*4+1)+') translateX('+d*8+'vw)'),a('#hElementsLayer').css('opacity',1-d*5),a('#hVideoLayer').hasClass('open')&&a('#hVideoLayer').trigger('click'))}if(typeof c.currentElements.hPayTarget=='object'){let b=c.currentElements.hPayTarget.progress;isMobile?(a('#hImgLayer').css('transform','translateY(140vh)'),a('#hImgCover').css('transform','scale(1,0.14)'),a('#hImg').css('transform','scale(1,7) translateX(45px) translateY(-'+(3+b*2)+'vh)')):(a('#hImgLayer').css('transform','translateY(166vh) translateX(-22vw)'),a('#hImgCover').css('transform','scale(0.2)'),a('#hImg').css('transform','scale(5) translateX(8vw) translateY(-'+b*2+'vw)'))}if(typeof c.currentElements.ethosContent=='object'){let b=c.currentElements.ethosContent.progress;b>.2&&b<.4&&a('#ethosLayer').css('opacity',(b-.2)*5)}if(typeof c.currentElements.hDiningSticky=='object'&&!isMobile){let b=c.currentElements.hDiningSticky.progress;a('#hDiningScroll').css('transform','translateY(calc(-'+b*100+'% + '+b*a('.hDiningItem').height()+'px + '+b*16.5+'vw))')}if(typeof c.currentElements.hLifeStyleSticky=='object'||typeof c.currentElements.hLifeStyleSticky2=='object'||typeof c.currentElements.hLifeStyleSticky3=='object'||typeof c.currentElements.hLifeStyleSticky4=='object'||typeof c.currentElements.hLifeStyleSticky5=='object'||typeof c.currentElements.hLifeStyleSticky6=='object'||typeof c.currentElements.hLifeStyleSticky7=='object'||typeof c.currentElements.hLifeStyleSticky8=='object'){let b;typeof c.currentElements.hLifeStyleSticky=='object'&&(b=c.currentElements.hLifeStyleSticky.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky.el).parent()),typeof c.currentElements.hLifeStyleSticky2=='object'&&(b=c.currentElements.hLifeStyleSticky2.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky2.el).parent()),typeof c.currentElements.hLifeStyleSticky3=='object'&&(b=c.currentElements.hLifeStyleSticky3.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky3.el).parent()),typeof c.currentElements.hLifeStyleSticky4=='object'&&(b=c.currentElements.hLifeStyleSticky4.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky4.el).parent()),typeof c.currentElements.hLifeStyleSticky5=='object'&&(b=c.currentElements.hLifeStyleSticky5.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky5.el).parent()),typeof c.currentElements.hLifeStyleSticky6=='object'&&(b=c.currentElements.hLifeStyleSticky6.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky6.el).parent()),typeof c.currentElements.hLifeStyleSticky7=='object'&&(b=c.currentElements.hLifeStyleSticky7.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky7.el).parent()),typeof c.currentElements.hLifeStyleSticky8=='object'&&(b=c.currentElements.hLifeStyleSticky8.progress,current=a(scrollLayer.scroll.els.hLifeStyleSticky8.el).parent()),isMobile?a('.hLSBlockPic img',current.next()).css('transform','translateY('+(-100+b*100)+'%)'):a('.hLSBlockPic img',current.next()).css('transform','translateY('+(-100+b*100)+'%)')}if(typeof c.currentElements.hFacilitiesSticky=='object'){let b=c.currentElements.hFacilitiesSticky.progress;isMobile?a('#hFacilitiesScroller').css('transform','translateX(-'+b*79+'%)'):a('#hFacilitiesScroller').css('transform','translateX(-'+b*56+'%)')}if(typeof c.currentElements.footerSticky=='object'&&!isMobile){let b=c.currentElements.footerSticky.progress;a('#footerMain, #footerData').css('transform','translateX(-'+b*50+'vw)'),a('#footerLeft').css('transform','translateX('+b*50+'vw)')}if(typeof c.currentElements.detailTopTarget=='object'){let b=c.currentElements.detailTopTarget.progress;b<.4&&a('#detailTopLayer').css('opacity',b*2.5),b<.5&&(a('#detailTopImg').css('transform','scale('+.8*(1+b*2*.25)+')'),a('#detailImgBlock').css('transform','scale('+1.25/(1+b*2*.25)+')')),b>.5&&a('#detailTopImg, #detailImgBlock').css('transform','scale(1)')}if(typeof c.currentElements.fullPictureTarget=='object'||typeof c.currentElements.fullPictureTarget2=='object'||typeof c.currentElements.fullPictureTarget3=='object'||typeof c.currentElements.fullPictureTarget4=='object'){let d;typeof c.currentElements.fullPictureTarget=='object'&&(d=c.currentElements.fullPictureTarget.progress,parent=a(scrollLayer.scroll.els.fullPictureTarget.el).parent(),current=scrollLayer.scroll.els.fullPictureTarget),typeof c.currentElements.fullPictureTarget2=='object'&&(d=c.currentElements.fullPictureTarget2.progress,parent=a(scrollLayer.scroll.els.fullPictureTarget2.el).parent(),current=scrollLayer.scroll.els.fullPictureTarget2),typeof c.currentElements.fullPictureTarget3=='object'&&(d=c.currentElements.fullPictureTarget3.progress,parent=a(scrollLayer.scroll.els.fullPictureTarget3.el).parent(),current=scrollLayer.scroll.els.fullPictureTarget3),typeof c.currentElements.fullPictureTarget4=='object'&&(d=c.currentElements.fullPictureTarget4.progress,parent=a(scrollLayer.scroll.els.fullPictureTarget4.el).parent(),current=scrollLayer.scroll.els.fullPictureTarget4),isMobile?(a('.fullPictureBlock',parent).css('transform','scale('+.8*(1+(d-.333)*3*.25)+')'),a('.fullPictureContainer',parent).css('transform','scale('+1.25/(1+(d-.333)*3*.25)+')')):(d<=.3333&&($fullPictureScroll=!1,a('.fullPictureBlock',parent).css('transform','scale(0.8)'),a('.fullPictureContainer',parent).css('transform','scale(1.25)')),d>.334&&d<.665&&(!$fullPictureScroll&&b=="down"&&($fullPictureScroll=!0,scrollLayer.scrollTo(current.top+windowHeight+1,{duration:500})),!$fullPictureScroll&&b=="up"&&($fullPictureScroll=!0,scrollLayer.scrollTo(current.top,{duration:500})),a('.fullPictureBlock',parent).css('transform','scale('+.8*(1+(d-.333)*3*.25)+')'),a('.fullPictureContainer',parent).css('transform','scale('+1.25/(1+(d-.333)*3*.25)+')')),d>=.666&&(a('.fullPictureBlock, .fullPictureContainer',parent).css('transform','scale(1)'),$fullPictureScroll=!1))}if(typeof c.currentElements.otherSticky=='object'&&!isMobile){let b=c.currentElements.otherSticky.progress;a('#otherItems').css('transform','translateY(calc(-'+b*100+'% + '+b*(windowHeight-a('.otherItem:first').height()-25-(a('#otherFixed .blockTitle').height()+(a('.otherItem').height()-a('.otherItemPic').height())))+'px)')}(typeof c.currentElements.galleryLock=='object'||typeof c.currentElements.galleryLock2=='object')&&!isMobile&&(typeof c.currentElements.galleryLock=='object'&&(current=scrollLayer.scroll.els.galleryLock),typeof c.currentElements.galleryLock2=='object'&&(current=scrollLayer.scroll.els.galleryLock2),($scrollPos>current.top&&$scrollPos<current.top+350&&!$galleryLocking||$scrollPos>current.top-350&&$scrollPos<current.top&&!$galleryLocking)&&($galleryLocking=!0,a('#mainLogo, #brownies, .mobile, .email').addClass('hidden'),scrollLayer.scrollTo(current.el,{duration:500})),($scrollPos>current.top+350||$scrollPos<current.top-350)&&($galleryLocking=!1))}),scrollLayer.on('call',c=>{c=='load'&&!$imagesLoaded&&($imagesLoaded=!0,p()),c=='showHeader'&&(b=="down"&&!a('#mainMenuController').hasClass('dark')&&$scrollPos<150&&(a('#mainLogo').removeClass('hidden'),a('#mainMenuController .line').removeClass('quickColor'),a('#bookNow').removeClass('open').addClass('dark'),a('#mainMenuController').removeClass('show'),a('#mainMenuController .line').addClass('no_transition'),a('#mainMenuController, .headerButton, #brownies, header .langsContainer, #textSwitch').addClass('dark'),a('#hLogo').removeClass('show'),setTimeout(function(){a('#mainMenuController .line').removeClass('no_transition'),a('#mainMenuController').addClass('show')},1),setTimeout(function(){a('#bookNow').addClass('open')},360),a('#hElementsLayer').css('pointer-events','none'),a('#navigationTrack').removeClass('show').removeClass('open')),b=="up"&&a('#mainMenuController').hasClass('dark')&&$scrollPos<150&&(a('#bookNow').removeClass('open').removeClass('dark'),a('#hLogo').addClass('show'),a('#mainMenuController .line').addClass('quickColor'),a('#mainMenuController, .headerButton, #brownies, #textSwitch, header .langsContainer').removeClass('dark'),a('#hElementsLayer').css('pointer-events','all'),setTimeout(function(){a('#bookNow').addClass('open')},360))),c=='hideHeader'&&b=="up"&&a('#mainMenuController').hasClass('dark')&&$scrollPos<150&&a('#mainLogo').addClass('hidden'),c=='layerUpdate'&&$updateReady&&($updateReady=!1,s(),scrollLayer.update(),setTimeout(function(){$updateReady=!0},1e3)),c=='weatherManage'&&(b=="up"&&$scrollPos<scrollLayer.scroll.els.weatherIn.top&&(x(),setTimeout(function(){a('#weather .animating').addClass('no_transition').addClass('top_low').removeClass('no_opacity')},480)),b=="down"&&(a('#weather .animating').removeClass('no_transition'),y())),c=='headerToWhite'&&(b=="down"&&a('#bookNow').hasClass('dark')?(a('#bookNow').removeClass('open').removeClass('dark'),a('#mainMenuController .line').addClass('quickColor'),a('#mainMenuController, .headerButton, #brownies, #textSwitch, #mainLogo, header .langsContainer').removeClass('dark'),setTimeout(function(){a('#bookNow').addClass('open')},360)):b=="up"&&!a('#bookNow').hasClass('dark')&&(a('#bookNow').removeClass('open').addClass('dark'),a('#mainMenuController, .headerButton, #brownies,  #mainLogo, header .langsContainer, #textSwitch').addClass('dark'),setTimeout(function(){a('#bookNow').addClass('open')},360))),c=='headerToDark'&&(b=="down"&&!a('#bookNow').hasClass('dark')?(a('#bookNow').removeClass('open').addClass('dark'),a('#mainMenuController, .headerButton, #brownies,  #mainLogo, header .langsContainer, #textSwitch').addClass('dark'),setTimeout(function(){a('#bookNow').addClass('open')},360)):b=="up"&&a('#bookNow').hasClass('dark')&&(a('#bookNow').removeClass('open').removeClass('dark'),a('#mainMenuController .line').addClass('quickColor'),a('#mainMenuController, .headerButton, #brownies, #mainLogo, header .langsContainer, #textSwitch').removeClass('dark'),setTimeout(function(){a('#bookNow').addClass('open')},360))),c=="runAccolades"&&isMobile&&a('#accoladesScroller').addClass('runAccolades'),c=='removeTable'&&(b=="down"&&a('#reserveTable').removeClass('show'),b=="up"&&a('#reserveTable').addClass('show'))})):(scrollOverview=new LocomotiveScroll({el:document.querySelector('article'),smooth:!0,getDirection:!0,lerp:.04,scrollFromAnywhere:!1,touchMultiplier:2.5,multiplier:3,class:'show',smartphone:{smooth:!0},tablet:{smooth:!0,direction:'horizontal',gestureDirection:'horizontal'},direction:'horizontal'}),scrollOverview.on('scroll',c=>{b=c.direction,$scrollPos=c.scroll.x,b=="left"&&a('#brownies').removeClass('hidden'),b=="right"&&a('#brownies').addClass('hidden'),$viewElements=Object.entries(c.currentElements),$viewElements.forEach(function(b){a(b[1].el).attr('data-precision')&&($target=a(b[1].el),$target.offsetY=$target.offset().top,$target.offsetX=$target.offset().left,$target.width=$target.outerWidth(),$target.height=$target.outerHeight(),$delta={},$delta.y=$lastPosY-$target.offsetY,$delta.x=$lastPosX-$target.offsetX,$delta.y>0&&$delta.y<$target.height&&$delta.x>0&&$delta.x<$target.width&&!$target.hasClass('target')&&$target.trigger('mouseover'),($delta.y<0||$delta.y>$target.height||$delta.x<0||$delta.x>$target.width)&&$target.hasClass('target')&&$target.trigger('mouseout'))})})),$dataView=0,$snapReady=!0,a('#overviewControls .oNavigation').on('click',function(){a(this).hasClass('left')?(a('#overviewItemPicsContainer .itemPic.active').index()>0&&(a('.oNavigation.right').addClass('show').addClass('open'),q(a(this).parent().parent().parent(),'<')),a('#overviewItemPicsContainer .itemPic.active').index()==0&&a('.oNavigation.left').removeClass('show').removeClass('open')):(a('#overviewItemPicsContainer .itemPic.active').index()<a('#overviewItemPicsContainer .itemPic').length-1&&(q(a(this).parent().parent().parent(),'>'),a('.oNavigation.left').addClass('show').addClass('open')),a('#overviewItemPicsContainer .itemPic.active').index()==a('#overviewItemPicsContainer .itemPic').length-1&&a('.oNavigation.right').removeClass('show').removeClass('open'))}),a('.wpforms-form').length>0&&(a('.wpforms-datepicker').length>0&&(jQuery('.wpforms-datepicker-wrap')[0]._flatpickr.config.onOpen.push(function(){scrollLayer.stop()}),jQuery('.wpforms-datepicker-wrap')[0]._flatpickr.config.onClose.push(function(){scrollLayer.start()})),a('.wpforms-timepicker').length>0&&(jQuery('.wpforms-timepicker').timepicker().on('hideTimepicker',function(a){scrollLayer.start()}),jQuery('.wpforms-timepicker').timepicker().on('showTimepicker',function(){scrollLayer.stop()})),a('.wpforms-disclaimer-description').on('mouseover touchstart',function(){scrollLayer.stop()}).on('mouseout touchend',function(){scrollLayer.start()}),window.wpforms.scrollToError=function(){},window.wpforms.animateScrollTop=function(){},a('.formContainer .wpforms-submit').on('click',function(){clearInterval(d),d=setInterval(function(){a('.formContainer .wpforms-form').length||(clearInterval(d),scrollLayer.update(),scrollLayer.scroll.checkScroll(!0),scrollLayer.scrollTo('#detailForm'))},50)})),a('.menuController, #menuClose').on('click',function(){w()}),a('.menuController').on('mouseover',function(){a('nav').hasClass('active')&&a('nav .overlayClose').addClass('hover')}),a('.menuController').on('mouseout',function(){a('nav').hasClass('active')&&a('nav .overlayClose').removeClass('hover')}),a('#rightHeader .mobile, #footerInfo a').on('click',function(){ga('send','event','Click','Telefono','Click su bottone Telefono')}),a('#rightHeader .email, .mailBlock a').on('click',function(){ga('send','event','Click','MailTo','Click su bottone email in header')}),a('.socials a').on('click',function(){ga('send','event','Click','Social','Click Social')}),a('.galleryContainer .sliderArrow').on('click',function(){a(this).hasClass('left')?n(a(this).parent().parent().parent(),'<'):n(a(this).parent().parent().parent(),'>')}),a('.urlManager:not(.no_default)').on('click',function(b){b.preventDefault(),C(a(this).attr('href'))}),U(),O(),a('.brownieIcoContainer').each(function(b){setTimeout(function(){a('.brownieIcoContainer:eq('+b+')').removeClass('hidden')},500+100*b)}),current=="index"?a('#hImg').imagesLoaded(function(){a('#hImgContainer').addClass('show'),setTimeout(function(){a('#hLogo').addClass('show'),a('#mainMenuController').addClass('show'),a('.headerButton').addClass('show')},800),setTimeout(function(){a('#bookNow').addClass('show'),a('#scrollDown').addClass('show'),a('header .langsContainer').addClass('show')},1200),setTimeout(function(){a('#bookNow').addClass('open')},1550),!isTouchEnabled&&!isMobile||(offsetPos=200,jQuery('#hVideoLayer video').css('clip-path','inset('+windowHeight/2+'px '+windowWidth/2+'px round 25px)'),jQuery('#hVideoLayer video').css('-webkit-clip-path','inset('+windowHeight/2+'px '+windowWidth/2+'px round 25px)'),setTimeout(function(){jQuery('#hVideoLayer video').css('clip-path','inset('+(windowHeight/2-offsetPos/2)+'px '+(windowWidth/2-offsetPos/2)+'px round 25px)'),jQuery('#hVideoLayer video').css('-webkit-clip-path','inset('+(windowHeight/2-offsetPos/2)+'px '+(windowWidth/2-offsetPos/2)+'px round 25px)')},1500),setTimeout(function(){a('.oButton.watch').addClass('show')},2e3),setTimeout(function(){a('.oButton.watch').addClass('open')},2100),a('#hVideoLayer, .oButton.watch, .oButton.close').on('click',function(b){a('#hVideoLayer').hasClass('open')?(a('#hVideoLayer').removeClass('open'),a('.oButton.close').removeClass('open').removeClass('show'),a('#hVideoLayer video').removeClass('audioVid'),a('#hVideoLayer video')[0].muted=!0,jQuery('#hVideoLayer video').css('clip-path','inset('+(windowHeight/2-offsetPos/2)+'px '+(windowWidth/2-offsetPos/2)+'px round 25px)'),jQuery('#hVideoLayer video').css('-webkit-clip-path','inset('+(windowHeight/2-offsetPos/2)+'px '+(windowWidth/2-offsetPos/2)+'px round 25px)'),setTimeout(function(){a('.oButton.watch').addClass('show')},1500),setTimeout(function(){a('.oButton.watch').addClass('open')},1600)):(a('#hVideoLayer').addClass('open'),ga('send','event','Click','Video Layer','Apertura Video in Home Page (Dispositivo Mobile)'),$audioVid='<video autoplay playsinline class="no_opacity has_transition_1000 audioVid" src="/wp-content/themes/casangelina/assets/video/home.mp4"></video>',a('#hVideoLayer').append($audioVid),a('.oButton.watch').removeClass('open').removeClass('show'),a('.audioVid')[0].play(),setTimeout(function(){a('.audioVid').removeClass('no_opacity')},500),setTimeout(function(){a('#hVideoLayer video:not(.audioVid)').remove(),a('.oButton.close').addClass('show')},1500),setTimeout(function(){a('.oButton.close').addClass('open')},1600))})),a('.hExperienceBlock .hExperienceButton').on('click',function(b){$currentIndex=a('.hExperienceBlock.show').index(),$newIndex=a(this).parent().index(),$currentIndex!=$newIndex&&($direction=$newIndex>$currentIndex?$direction='>':$direction='<',a('.hExperienceBlock').removeClass('show'),a(this).parent().addClass('show'),S(a(this).parent().parent().parent(),$direction,$newIndex))})}):(a('#mainMenuController').addClass('show'),setTimeout(function(){a('#mainLogo').addClass('show')},400),setTimeout(function(){a('.headerButton').addClass('show')},800),setTimeout(function(){a('#bookNow, #reserveTable').addClass('show'),a('header .langsContainer').addClass('show')},1200),setTimeout(function(){a('#bookNow, #reserveTable').addClass('open')},1550),current=="overview"&&(setTimeout(function(){a('#overviewIntroRight .oButton').addClass('open')},500),isMobile?a('#overviewSnippetContainer').css('height',a('.overviewSnippet:eq(0)').height()):a('#overviewIntroRight .oButton').on('click',function(){scrollOverview.scrollTo('right')}))),$firstTrack=!0,a(window).on('mousemove',function(b){$lastPosX=b.pageX,$lastPosY=b.pageY,a('#tracker').css('transform','translate('+b.pageX+'px,'+b.pageY+'px'),$firstTrack&&($firstTrack=!1,a('#simpleTrack').removeClass('no_opacity'))}),(current!="overview"||current=="overview"&&isMobile)&&setTimeout(function(){},1e3),a('.activeLayer, .hFacilitiesItem, .hDiningItem, #hVideoLayer, .otherItem, .pressButton, [data-disabled]').on('click',G).on('mouseover',T).on('mouseout',F),isMobile&&a('.galleryContainer .activeLayerContainer').swipe({threshold:100,swipe:function(c,b){b==='left'?a('.activeLayer.right',a(this)).trigger('click'):b==='right'&&a('.activeLayer.left',a(this)).trigger('click')},swipeStatus:function(c,a,b){(a=="cancel"||a=="end")&&scrollLayer.start(),(a=="start"||a=="move")&&(b==='left'||b==='right')&&scrollLayer.stop()}}),a('#bookNow').on('click',function(){m(a('#bookOverlay')),ga('send','event','Click','Book Now','Click su bottone Book Now')}),a('.credits').on('click',function(){m(a('#creditsOverlay'))}),a('.thanks').on('click',function(){m(a('#thanksOverlay'))}),a('.overlayClose').on('click',function(){D(a(this).parent())}),a('#reserveTable').on('click',function(){m(a('#tableOverlay')),ga('send','event','Click','Reserve Table','Click su bottone Reserve Table')}),g=new Date(2023,3,1),e=g>new Date?g:new Date,h=new Date(e).setDate(e.getDate()+1),f=a('.bookArrival input').flatpickr({mode:"single",minDate:"today",dateFormat:lang=="en"?"m/d/y":"d/m/y",locale:lang,defaultDate:e,onChange:function(a,b,d){$suggestedDeparture=new Date(a[0]).setDate(a[0].getDate()+1),c.setDate($suggestedDeparture)}}),c=a('.bookDeparture input').flatpickr({mode:"single",minDate:"today",dateFormat:lang=="en"?"m/d/y":"d/m/y",locale:lang,defaultDate:h}),a('#bookSubmit').on('click',function(){$arrival=f.selectedDates[0],$departure=c.selectedDates[0],$arrivalDay=$arrival.getDate(),$arrivalMonth=$arrival.getMonth()+1<10?'0'+($arrival.getMonth()+1):$arrival.getMonth()+1,$arrivalYear=$arrival.getFullYear(),$departureDay=$departure.getDate(),$departureMonth=$departure.getMonth()+1<10?'0'+($departure.getMonth()+1):$departure.getMonth()+1,$departureYear=$departure.getFullYear(),$bookUrl="https://booking.casangelina.com/?adult="+a("#bookGuests").val()+"&arrive="+$arrivalYear+"-"+$arrivalMonth+"-"+$arrivalDay+"&depart="+$departureYear+"-"+$departureMonth+"-"+$departureDay+"&chain=24447&currency=EUR&hotel=38068&src=30C&locale="+u(),window.open($bookUrl)}),a('.no_default').on('click',function(a){a.preventDefault()}),a('.textIndexItem').on('click',function(){scrollLayer.scrollTo(a(this).attr('data-href'),{duration:200+200*a(this).index()})}),a('.hBook').on('click',function(){$arrival=f.selectedDates[0],$departure=c.selectedDates[0],$arrivalDay=$arrival.getDate(),$arrivalMonth=$arrival.getMonth()+1<10?'0'+($arrival.getMonth()+1):$arrival.getMonth()+1,$arrivalYear=$arrival.getFullYear(),$departureDay=$departure.getDate(),$departureMonth=$departure.getMonth()+1<10?'0'+($departure.getMonth()+1):$departure.getMonth()+1,$departureYear=$departure.getFullYear(),a(this).hasClass('room')&&($bookUrl="https://booking.casangelina.com/?adult="+a("#bookGuests").val()+"&arrive="+$arrivalYear+"-"+$arrivalMonth+"-"+$arrivalDay+"&depart="+$departureYear+"-"+$departureMonth+"-"+$departureDay+"&chain=24447&currency=EUR&hotel=38068&src=30C&locale="+u()+"&room="+a('.hBook.room').attr('data-code'),console.log($bookUrl)),window.open($bookUrl)})}),a(window).on('resize',function(){windowWidth=a(window).width(),windowHeight=a(window).height(),isMobile=windowWidth<=960,isTouchEnabled&&(a('body, #hImgContainer, #hImgLayer, #hFacilitiesSticky, nav, #hElementsLayer, .overlay, section.galleryContainer, #footerSticky').height(windowHeight),a('.fullPicture, .fullPicture > div:first-child, #footerTarget, footer').height(windowHeight*2),a('.fullPicture > div:eq(1)').height(windowHeight),a('#hTarget').css('top',windowHeight),isMobile&&a('#footerMain').height(windowHeight),offsetPos=200,jQuery('#hVideoLayer video').css('clip-path','inset('+(windowHeight/2-offsetPos/2)+'px '+(windowWidth/2-offsetPos/2)+'px round 25px)'),jQuery('#hVideoLayer video').css('-webkit-clip-path','inset('+(windowHeight/2-offsetPos/2)+'px '+(windowWidth/2-offsetPos/2)+'px round 25px)')),isMobile&&a('.hFacilitiesBackground, #hFacilitiesTop ').attr('data-scroll-offset','0,'+windowHeight),current!="overview"?s():setTimeout(function(){!isMobile&&scrollOverview.scroll.instance.scroll.x>windowWidth/1.5&&scrollOverview.scrollTo('right')},1)});function T(b){a(b.currentTarget).attr('data-icon')=="textArrow"&&(a('#simpleTrack').addClass('no_opacity'),a('#navigationTrack .oLabel').text(a(this).attr('data-text')),a('#navigationTrack').removeClass().addClass('top_ultralow').addClass('has_transition_1500').addClass('oButton').addClass(a(this).attr('data-theme')).addClass('show').addClass('open')),a(b.currentTarget).attr('data-icon')=="arrow"&&(a('#simpleTrack').addClass('no_opacity'),a('#actionTrack').addClass('show').addClass(a(this).attr('data-theme'))),a(b.currentTarget).attr('data-disabled')&&a('#simpleTrack').addClass('no_opacity'),a(b.currentTarget).addClass('target')}function F(b){a('#simpleTrack').removeClass('no_opacity'),a('#navigationTrack').removeClass('show').removeClass('open'),a('.target').removeClass('target'),a('#actionTrack').removeClass('show').removeClass('dark')}function G(b){switch($target=a(b.currentTarget),$action=$target.attr('data-action'),$direction=$target.attr('data-direction'),$action){case'navigation':C(a(this).attr('data-href'));break;case'runSlider':n($target.parent().parent(),$direction);break;case'managePress':R($target);break}}function m(b){b.hasClass('active')||(b.addClass('active'),setTimeout(function(){a('.mainBackground',b).removeClass('hidden'),b.addClass('show')},1),b.attr('id')=="bookOverlay"&&setTimeout(function(){a('.oButton',b).addClass('open')},960))}function D(b){a('.overlayClose circle',b).removeClass('has_transition_1000_inout').addClass('has_transition_1000'),b.removeClass('show'),b.attr('id')=="bookOverlay"&&a('.oButton',b).removeClass('open'),setTimeout(function(){b.addClass('hidden')},500),setTimeout(function(){a('.mainBackground',b).addClass('hidden'),b.removeClass('active').removeClass('hidden'),a('.overlayClose circle',b).addClass('has_transition_1000_inout').removeClass('has_transition_1000')},1e3)}function s(){isMobile||(a('#otherTarget').height(a('#otherItems').height()*2-(windowHeight-a('.otherItem:first').height()-25)+(a('#otherFixed .blockTitle').height()+(a('.otherItem').height()-a('.otherItemPic').height()))).css('top',-(windowHeight-a('.otherItem:first').height()-25)),a('#hDiningTarget').height(a('#hDiningScroll').height()*2-windowWidth/100*15-a('.hDiningItem:first').height()).css('top',windowWidth/100*15)),a('#hFacilitiesSticky').innerHeight()>windowHeight&&a('#hFacilitiesTarget').css('top',a('#hFacilitiesSticky').innerHeight()-windowHeight),scrollLayer.update()}function C(b){$url=b,a('body').addClass('has_transition_1500').addClass('exiting'),a('nav').hasClass('active')&&w(),setTimeout(function(){window.location.href=$url},350)}function p(){a('img:eq('+$imgGlobalID+')')[0].hasAttribute("data-src")?(a('img:eq('+$imgGlobalID+')').attr('src',a('img:eq('+$imgGlobalID+')').attr('data-src')).removeAttr('data-src'),a('img:eq('+$imgGlobalID+')').imagesLoaded(function(b){a('img:eq('+$imgGlobalID+')').attr('data-update')=='true'&&scrollLayer.update(),a('img:eq('+($imgGlobalID+1)+')').length>0&&($imgGlobalID++,p())})):a('img:eq('+($imgGlobalID+1)+')').length>0&&($imgGlobalID++,p())}function w(){a('nav').hasClass('active')?(a('nav').hasClass('active')&&a('nav .overlayClose').removeClass('hover'),a('.navSection').removeClass('show'),a('#navLogo .logoLine').addClass('exit'),a('#navLogo, #navSideItems, #navBottom .socials').removeClass('show'),a('#mainLogo, .headerButton, .langsContainer').removeClass('menuForced'),a('#menuClose').removeClass('show'),isMobile&&a('nav .langsContainer').removeClass('show'),setTimeout(function(){a('nav').addClass('hidden'),a('#mainMenuController').addClass('show'),a('header .langsContainer').removeClass('shifted')},500),setTimeout(function(){a('#navVideo').addClass('no_opacity'),a('#hLogo').addClass('show'),a('#navBackground').addClass('hidden'),a('nav').removeClass('active').removeClass('hidden')},1e3)):(a('nav').addClass('active'),a('#navVideo video')[0].play(),a('#navLogo .logoLine').removeClass('exit'),a('#mainMenuController').removeClass('show'),setTimeout(function(){a('#navBackground').removeClass('hidden'),a('#navVideo').removeClass('no_opacity'),a('#hLogo').removeClass('show'),a('#navLogo, #navSideItems, #navBottom .socials').addClass('show'),a('.navSection').removeClass('show'),a('#mainLogo, .headerButton, .langsContainer').addClass('menuForced'),a('header  .langsContainer').addClass('shifted'),isMobile&&a('nav .langsContainer').addClass('show')},1),setTimeout(function(){a('#menuClose').addClass('show'),scrollMenu.update(),a('.navItem.active').length!=0&&($target=a('.navItem.active').parent(),a('.navSection').removeClass('show'),scrollMenu.scrollTo($target[0],{duration:1,disableLerp:!0,offset:-(parseInt(a('#navTop').css('padding-top'))+(isMobile?55:70)+parseInt($target.css('margin-top'))+parseInt($target.prev().height()))}),scrollMenu.update())},500))}function n(b,d){var e=a('.gallery .slideContainer',b).length,c=a('.gallery  .slideContainer.active',b).index();d==">"&&(a('.gallery .slideContainer.active',b).index()<e-1?c=a('.gallery .slideContainer.active',b).index()+1:c=0,v(b,c,e,d)),d=="<"&&(a('.gallery .slideContainer.active',b).index()==0?c=e-1:c=a('.gallery .slideContainer.active',b).index()-1,v(b,c,e,d))}k=0;function v(c,b,e,d){k++,a('.gallery .slideContainer:eq('+b+') img',c)[0].hasAttribute("gallery-src")?(a('.gallery .slideContainer:eq('+b+') img',c).attr('srcset',a('.gallery .slideContainer:eq('+b+') img',c).attr('gallery-srcset')).removeAttr('gallery-srcset').attr('src',a('.gallery .slideContainer:eq('+b+') img',c).attr('gallery-src')).removeAttr('gallery-src'),a('.previewContainer .slideContainer:eq('+b+') img',c).attr('srcset',a('.previewContainer .slideContainer:eq('+b+') img',c).attr('gallery-srcset')).removeAttr('gallery-srcset').attr('src',a('.previewContainer .slideContainer:eq('+b+') img',c).attr('gallery-src')).removeAttr('gallery-src'),a('.loading').removeClass('no_opacity').show(),a('.gallery .slideContainer:eq('+b+') img',c).imagesLoaded(function(){a('.loading').addClass('no_opacity'),setTimeout(function(){a('.loading',c).hide()},800),a('.gallery .slideContainer',c).removeClass('active'),a('.gallery .slideContainer:eq('+b+') .slide, .gallery .slideContainer:eq('+b+') .t_container, .gallery .slideContainer:eq('+b+') img',c).addClass('no_transition'),a('.gallery .slideContainer:eq('+b+')',c).css('z-index',k).removeClass('show').addClass('active'),a('.previewContainer .slideContainer',c).removeClass('active'),a('.previewContainer .slideContainer:eq('+b+') .slide, .previewContainer .slideContainer:eq('+b+') .t_container, .previewContainer .slideContainer:eq('+b+') img',c).addClass('no_transition'),a('.previewContainer .slideContainer:eq('+b+')',c).css('z-index',k).removeClass('show').addClass('active'),d=='>'&&(a('.gallery .slideContainer:eq('+b+') .slide',c).removeClass('mask_left').addClass('mask_right'),a('.previewContainer .slideContainer:eq('+b+') .slide',c).removeClass('mask_bottom').addClass('mask_top')),d=='<'&&(a('.gallery .slideContainer:eq('+b+') .slide',c).removeClass('mask_right').addClass('mask_left'),a('.previewContainer .slideContainer:eq('+b+') .slide',c).removeClass('mask_top').addClass('mask_bottom')),setTimeout(function(){a('.gallery .slideContainer:eq('+b+') .slide, .gallery .slideContainer:eq('+b+') .t_container, .gallery .slideContainer:eq('+b+') img',c).removeClass('no_transition'),a('.gallery .slideContainer:eq('+b+')',c).addClass('show'),a('.previewContainer .slideContainer:eq('+b+') .slide, .previewContainer .slideContainer:eq('+b+') .t_container, .previewContainer .slideContainer:eq('+b+') img',c).removeClass('no_transition'),a('.previewContainer .slideContainer:eq('+b+')',c).addClass('show')},15),a('.sliderCounter',c)&&a('.sliderCounter .current',c).text((b<9?'0':'')+(b+1)),a('.previewTitle.caption',c)&&a('.previewTitle.caption',c).text(a('.gallery .slideContainer:eq('+b+') .slide img',c).attr('data-caption'))})):(a('.gallery .slideContainer',c).removeClass('active'),a('.gallery .slideContainer:eq('+b+') .slide, .gallery .slideContainer:eq('+b+') .t_container, .gallery .slideContainer:eq('+b+') img',c).addClass('no_transition'),a('.gallery .slideContainer:eq('+b+')',c).css('z-index',k).removeClass('show').addClass('active'),a('.previewContainer .slideContainer',c).removeClass('active'),a('.previewContainer .slideContainer:eq('+b+') .slide, .previewContainer .slideContainer:eq('+b+') .t_container, .previewContainer .slideContainer:eq('+b+') img',c).addClass('no_transition'),a('.previewContainer .slideContainer:eq('+b+')',c).css('z-index',k).removeClass('show').addClass('active'),d=='>'&&(a('.gallery .slideContainer:eq('+b+') .slide',c).removeClass('mask_left').addClass('mask_right'),a('.previewContainer .slideContainer:eq('+b+') .slide',c).removeClass('mask_bottom').addClass('mask_top')),d=='<'&&(a('.gallery .slideContainer:eq('+b+') .slide',c).removeClass('mask_right').addClass('mask_left'),a('.previewContainer .slideContainer:eq('+b+') .slide',c).removeClass('mask_top').addClass('mask_bottom')),setTimeout(function(){a('.gallery .slideContainer:eq('+b+') .slide, .gallery .slideContainer:eq('+b+') .t_container, .gallery .slideContainer:eq('+b+') img',c).removeClass('no_transition'),a('.gallery .slideContainer:eq('+b+')',c).addClass('show'),a('.previewContainer .slideContainer:eq('+b+') .slide, .previewContainer .slideContainer:eq('+b+') .t_container, .previewContainer .slideContainer:eq('+b+') img',c).removeClass('no_transition'),a('.previewContainer .slideContainer:eq('+b+')',c).addClass('show')},15),a('.sliderCounter',c)&&a('.sliderCounter .current',c).text((b<9?'0':'')+(b+1)),a('.previewTitle.caption',c)&&a('.previewTitle.caption',c).text(a('.gallery .slideContainer:eq('+b+') .slide img',c).attr('data-caption')))}o=0;function S(c,d,b){isMobile?(a('.hExperiencePic',c).removeClass('active').removeClass('show'),d=='>'&&a('.hExperienceBlock:eq('+b+') .hExperiencePic > div').removeClass('mask_top').addClass('mask_bottom'),d=='<'&&a('.hExperienceBlock:eq('+b+') .hExperiencePic > div').removeClass('mask_bottom').addClass('mask_top'),a('.hExperienceBlock:eq('+b+') .hExperiencePic .has_transition_2000',c).addClass('no_transition'),a('.hExperienceBlock:eq('+b+') .hExperiencePic',c).addClass('active'),a('.hExperienceBlock:eq('+b+') .hExperiencePic',c).removeClass('show').css('z-index',o++),setTimeout(function(){a('.hExperienceBlock:eq('+b+') .hExperiencePic .has_transition_2000',c).removeClass('no_transition'),a('.hExperienceBlock:eq('+b+') .hExperiencePic',c).addClass('show')},250)):(a('#hExperiencesPics .hExperiencePic',c).removeClass('active'),d=='>'&&a('#hExperiencesPics .hExperiencePic:eq('+b+') > div').removeClass('mask_top').addClass('mask_bottom'),d=='<'&&a('#hExperiencesPics .hExperiencePic:eq('+b+') > div').removeClass('mask_bottom').addClass('mask_top'),a('#hExperiencesPics .hExperiencePic:eq('+b+') .has_transition_2000',c).addClass('no_transition'),a('#hExperiencesPics .hExperiencePic:eq('+b+')',c).addClass('active'),a('#hExperiencesPics .hExperiencePic:eq('+b+')',c).removeClass('show').css('z-index',o++),setTimeout(function(){a('#hExperiencesPics .hExperiencePic:eq('+b+') .has_transition_2000',c).removeClass('no_transition'),a('#hExperiencesPics .hExperiencePic:eq('+b+')',c).addClass('show')},10)),setTimeout(function(){scrollLayer.update()},500)}r=2;function q(b,c){$currentIndex=$oldIndex=a('.itemPic.active',b).index(),$totalElements=a('.itemPic',b).length,a('.overviewSnippet, .detailSubtitle, .detailTitle',b).removeClass('show'),a('.itemPic',b).removeClass('active'),c=='>'&&($currentIndex<$totalElements-1?$currentIndex++:$currentIndex=0,a('.itemPic:eq('+$currentIndex+') > div').removeClass('mask_left').addClass('mask_right')),c=='<'&&($currentIndex>0?$currentIndex--:$currentIndex=$totalElements-1,a('.itemPic:eq('+$currentIndex+') > div').removeClass('mask_right').addClass('mask_left')),a('.itemPic:eq('+$currentIndex+') .has_transition_2000',b).addClass('no_transition'),a('.itemPic:eq('+$currentIndex+')',b).addClass('active'),a('.itemPic:eq('+$currentIndex+')',b).removeClass('show').css('z-index',r++),$dataView=a('.itemPic:eq('+$currentIndex+')',b).index()+1,setTimeout(function(){a('.itemPic:eq('+$currentIndex+') .has_transition_2000',b).removeClass('no_transition'),a('.itemPic:eq('+$currentIndex+')',b).addClass('show')},10),setTimeout(function(){a('.overviewSnippet, .detailTitle, .detailSubtitle',b).removeClass('active'),a('.overviewSnippet:eq('+$currentIndex+'), .detailTitle:eq('+$currentIndex+'), .detailSubtitle:eq('+$currentIndex+')',b).removeClass('show'),a('.overviewSnippet:eq('+$currentIndex+'), .detailTitle:eq('+$currentIndex+'), .detailSubtitle:eq('+$currentIndex+')',b).addClass('active'),a('#overviewSnippetContainer').css('height',a('.overviewSnippet.active').height()),a('#overviewItems .activeLayer').attr('data-href',a('.detailTitle.active',b).attr('data-href')),a('#overviewMobileView').attr('href',a('.detailTitle.active',b).attr('data-href'))},400),setTimeout(function(){isMobile?scrollLayer.update():scrollOverview.update()},500)}function R(b){$currentSet=b.attr('data-set'),a('.pressButton').removeClass('active'),b.addClass('active'),a('.pressContent').removeClass('has_transition_800').addClass('has_transition_400').addClass('no_opacity'),$pressScrolling=!0,a('#mainLogo, #brownies, .mobile, .email').addClass('hidden'),setTimeout(function(){a('.pressContent').hide().removeClass('has_transition_400').addClass('has_transition_800'),a('.pressContent:not(:first)').addClass('tripleMargin'),a('.pressContent *').addClass('no_transition').removeClass('show'),$currentSet=="all"?a('.pressContent').show():a('#'+$currentSet).removeClass('tripleMargin').show(),$scrollPos>scrollLayer.scroll.els.pressTarget.top&&scrollLayer.scrollTo('#pressBody',{duration:1,disableLerp:!0})},400),setTimeout(function(){a('.pressContent *').removeClass('no_transition'),a('.pressContent').removeClass('no_opacity'),scrollLayer.update()},401),setTimeout(function(){$pressScrolling=!1},600)}function Q(){if(i('$cookieExists',!0,60),a('.brownieIco').css('pointer-events','all'),a('#gdprMarketing').prop("checked")){i('$gdprMarketing',!0,60),window.dataLayer=window.dataLayer||[];function b(){dataLayer.push(arguments)}b('consent','update',{ad_storage:'granted'})}else{$gdprMarketing=!1,i('$gdprMarketing',!1,60),window.dataLayer=window.dataLayer||[];function b(){dataLayer.push(arguments)}b('consent','update',{ad_storage:'denied'})}if(a('#gdprAnalytics').prop("checked")){i('$gdprAnalytics',!0,60),window.dataLayer=window.dataLayer||[];function b(){dataLayer.push(arguments)}b('consent','update',{analytics_storage:'granted'})}else{i('$gdprAnalytics',!1,60),window.dataLayer=window.dataLayer||[];function b(){dataLayer.push(arguments)}b('consent','update',{analytics_storage:'denied'})}}function t(){l('$gdprAnalytics')=='true'?a('#gdprAnalytics').prop("checked",!0):a('#gdprAnalytics').prop("checked",!1),l('$gdprMarketing')=='true'?a('#gdprMarketing').prop("checked",!0):a('#gdprMarketing').prop("checked",!1)}function P(){l('$cookieExists')=='true'?(t(),l('$newsletterPrompt')!='true'&&setTimeout(function(){i('$newsletterPrompt',!0,60),a('#newsLetterBrownie .brownieIco').trigger('click')},3e3)):setTimeout(function(){a('#cookieBrownie .brownieIco').trigger('click'),a('.brownieIco',a('#cookieBrownie').siblings()).css('pointer-events','none')},3e3)}function i(b,c,d){var a=new Date,e;a.setTime(a.getTime()+d*24*60*60*1e3),e="expires="+a.toUTCString(),document.cookie=b+"="+c+";"+e+";path=/"}function l(e){for(var c=e+"=",f=decodeURIComponent(document.cookie),d=f.split(';'),b=0,a;b<d.length;b++){for(a=d[b];a.charAt(0)==' ';)a=a.substring(1);if(a.indexOf(c)==0)return a.substring(c.length,a.length)}return""}function Y(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}function Z(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function U(){var b,c,d,e,f,g,h;function j(){b=dayjs.tz(new Date,a('.clock:eq(0)').attr('timezone')),second1=b.second()*6,minute1=b.minute()*6+second1/60,hour1=b.hour()%12/12*360+90+minute1/12,a('#hour_1').css("transform","rotate("+hour1+"deg)"),a('#minute_1').css("transform","rotate("+minute1+"deg)"),a('#second_1').css("transform","rotate("+second1+"deg)"),c=dayjs.tz(new Date,a('.clock:eq(1)').attr('timezone')),second2=c.second()*6,minute2=c.minute()*6+second2/60,hour2=c.hour()%12/12*360+90+minute2/12,a('#hour_2').css("transform","rotate("+hour2+"deg)"),a('#minute_2').css("transform","rotate("+minute2+"deg)"),a('#second_2').css("transform","rotate("+second2+"deg)"),d=dayjs.tz(new Date,a('.clock:eq(2)').attr('timezone')),second3=d.second()*6,minute3=d.minute()*6+second3/60,hour3=d.hour()%12/12*360+90+minute3/12,a('#hour_3').css("transform","rotate("+hour3+"deg)"),a('#minute_3').css("transform","rotate("+minute3+"deg)"),a('#second_3').css("transform","rotate("+second3+"deg)"),e=dayjs.tz(new Date,a('.clock:eq(3)').attr('timezone')),second4=e.second()*6,minute4=e.minute()*6+second4/60,hour4=e.hour()%12/12*360+90+minute4/12,a('#hour_4').css("transform","rotate("+hour4+"deg)"),a('#minute_4').css("transform","rotate("+minute4+"deg)"),a('#second_4').css("transform","rotate("+second4+"deg)"),f=dayjs.tz(new Date,a('.clock:eq(4)').attr('timezone')),second5=f.second()*6,minute5=f.minute()*6+second5/60,hour5=f.hour()%12/12*360+90+minute5/12,a('#hour_5').css("transform","rotate("+hour5+"deg)"),a('#minute_5').css("transform","rotate("+minute5+"deg)"),a('#second_5').css("transform","rotate("+second5+"deg)"),g=dayjs.tz(new Date,a('.clock:eq(5)').attr('timezone')),second6=g.second()*6,minute6=g.minute()*6+second6/60,hour6=g.hour()%12/12*360+90+minute6/12,a('#hour_6').css("transform","rotate("+hour6+"deg)"),a('#minute_6').css("transform","rotate("+minute6+"deg)"),a('#second_6').css("transform","rotate("+second6+"deg)"),h=dayjs.tz(new Date,a('.clock:eq(6)').attr('timezone')),second7=h.second()*6,minute7=h.minute()*6+second7/60,hour7=h.hour()%12/12*360+90+minute7/12,a('#hour_7').css("transform","rotate("+hour7+"deg)"),a('#minute_7').css("transform","rotate("+minute7+"deg)"),a('#second_7').css("transform","rotate("+second7+"deg)")}function i(){j(),z=setTimeout(i,1e3)}i()}function B(b,c){a(c).find('day:eq('+b+') hour').length==8?$nowHour<3?(now_node=0,actual_node=now_node):(now_node=Math.floor($nowHour/3),actual_node=now_node):(now_node=Math.floor($nowHour/6),actual_node=now_node+4,a('.hour_box').each(function(b){b<4&&a(this).addClass('no_opacity')})),a('.hour_box:eq('+actual_node+')').addClass('active'),day_ico_0=a(c).find('day:eq('+b+') hour[value="00:00"] description').text(),day_ico_1=a(c).find('day:eq('+b+') hour[value="03:00"] description').text(),day_ico_2=a(c).find('day:eq('+b+') hour[value="06:00"] description').text(),day_ico_3=a(c).find('day:eq('+b+') hour[value="09:00"] description').text(),day_ico_4=a(c).find('day:eq('+b+') hour[value="12:00"] description').text(),day_ico_5=a(c).find('day:eq('+b+') hour[value="15:00"] description').text(),day_ico_6=a(c).find('day:eq('+b+') hour[value="18:00"] description').text(),day_ico_7=a(c).find('day:eq('+b+') hour[value="21:00"] description').text(),a('.hour_box').each(function(b){(b==0||b==1||b==7)&&(window['day_ico_'+b]==1||window['day_ico_'+b]==2||window['day_ico_'+b]==3)?a('.hour_box:eq('+b+') .hour_ico img').attr('src','/wp-content/themes/casangelina/assets/images/weather/n'+window['day_ico_'+b]+'.png'):a('.hour_box:eq('+b+') .hour_ico img').attr('src','/wp-content/themes/casangelina/assets/images/weather/'+window['day_ico_'+b]+'.png')}),a('.hour_box .hour_ico img').imagesLoaded(function(){}),a('#weather .weather_ico .meteo_stats').text(J(window['day_ico_'+actual_node])),a('#weather .weather_ico .meteo_ico_big img').attr('src','/wp-content/themes/casangelina/assets/images/weather/'+window['day_ico_'+actual_node]+'.png'),(actual_node==0||actual_node==1||actual_node==7&&window['day_ico_'+actual_node])&&(window['day_ico_'+actual_node]==1||window['day_ico_'+actual_node]==2||window['day_ico_'+actual_node]==3)&&a('#weather .weather_ico .meteo_ico_big img').attr('src','/wp-content/themes/casangelina/assets/images/weather/n'+window['day_ico_'+actual_node]+'.png'),$windDirection=a(c).find('day:eq('+b+') hour:eq('+now_node+') windir').text(),a('#weather .wind_direction p').text(H($windDirection)),$windSpeed=a(c).find('day:eq('+b+') hour:eq('+now_node+') windvel').text(),a('#weather .wind_ico .meteo_stats').text(I($windSpeed)),a('#weather .wind_ico img').attr('src','/wp-content/themes/casangelina/assets/images/weather/wind/'+K($windSpeed)+'.png'),a('#weather .wind_speed p').text($windSpeed+' m/s'),$temp=Math.round(parseInt(a(c).find('day:eq('+b+') hour:eq('+now_node+') temp').text())),a('.temp_text .temp_num').text($temp)}function A(b,c){$nowDate=new Date,$nowHour=$nowDate.getHours(),a(c).find('day:eq('+b+') hour').length==8&&($nowHour<3?now_node=0:now_node=Math.floor($nowHour/3)),$waveHeight=a(c).find("day:eq("+b+") hour:eq("+now_node+") waveheight").text(),$waveHeight==""&&($waveHeight=0),a('#weather .wave_height p').text($waveHeight+' M'),a('#weather .sea_ico .meteo_ico_big img').attr('src','/wp-content/themes/casangelina/assets/images/weather/sea/'+L($waveHeight)+'.png'),a('#weather .sea_ico .meteo_stats').text(M($waveHeight))}function O(){a.get("https://meteo.casangelina.com/get-weather.php",function(f){switch(weatherData=f,$nowDate=new Date,$nowHour=$nowDate.getHours(),lang){case"en":days_short=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months=b;break;case"it":days_short=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],days=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],months=e;break;case"fr":days_short=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],days=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],months=c;break;case"de":days_short=["Son","Mon","Die","Mit","Don","Fre","Sam"],days=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],months=d;break}switch(lang){case"en":break;case"it":break;case"fr":break;case"de":break}a('#date .year').text($nowDate.getFullYear()),lang=='en'?a('#date .day').html('<span class="ext-day">'+days[$nowDate.getDay()]+'</span> <span class="ext-date">'+$nowDate.getDate()+''+N($nowDate.getDate())+' '+months[$nowDate.getMonth()]+'</span>'):a('#date .day').html('<span class="ext-date">'+$nowDate.getDate()+' '+months[$nowDate.getMonth()]+',</span><span class="ext-day">'+days[$nowDate.getDay()]+'</span>'),$day0=new Date,$day1=j($day0,1),$day2=j($day0,2),$day3=j($day0,3),$day4=j($day0,4),$day5=j($day0,5),$day6=j($day0,6),a('#days .day_name').each(function(b){b>0&&a('#days .day_name:eq('+b+') p').text(days_short[window['$day'+b].getDay()])}),a('#days .day_name').on('click',E),B(0,weatherData),a.get("https://meteo.casangelina.com/get-sea.php",function(a){seaData=a,A(0,seaData)})})}function E(){$dayIndex=a(this).index(),a('#days .day_name').each(function(b){b>0&&a('#days .day_name:eq('+b+') p').text(days_short[window['$day'+b].getDay()])}),a('.day_name').removeClass('active'),a(this).addClass('active'),$dayIndex>0&&a(this).find('p').text(days[window['$day'+$dayIndex].getDay()]),x(),setTimeout(function(){a('#weather .animating').addClass('no_transition').addClass('top_low').removeClass('no_opacity')},480),setTimeout(function(){a('#weather .animating').removeClass('no_transition'),B($dayIndex,weatherData),A($dayIndex,seaData),y()},500)}function y(){a('#weather .animating').each(function(b){setTimeout(function(){a('#weather .animating:eq('+b+')').removeClass('top_low')},50*b)})}function x(){a('#weather .animating').each(function(b){setTimeout(function(){a('#weather .animating:eq('+b+')').addClass('no_opacity')},20*b)})}function H(a){if(a>=0&&a<=11.25)return"N";if(a>=11.26&&a<=33.75)return"NNE";if(a>=33.76&&a<=56.25)return"NE";if(a>=56.26&&a<=78.75)return"ENE";if(a>=78.76&&a<=101.25)return"E";if(a>=101.26&&a<=123.75)return"ESE";if(a>=123.76&&a<=146.25)return"SE";if(a>=146.26&&a<=169.75)return"SSE";if(a>=169.76&&a<=191.25)return"S";if(a>=191.26&&a<=213.75)return"SSW";if(a>=213.76&&a<=236.25)return"SW";if(a>=236.26&&a<=258.75)return"WSW";if(a>=258.76&&a<=281.25)return"W";if(a>=281.26&&a<=303.75)return"WNW";if(a>=303.76&&a<=326.25)return"NW";if(a>=326.26&&a<=348.75)return"NNW";if(a>=348.76&&a<=360)return"N"}function I(a){if(a==0)switch(lang){case"en":return"no wind";break;case"it":return"assente";break;case"fr":return"pas de vent";break;case"de":return"kein wind";break}if(a>=.1&&a<5)switch(lang){case"en":return"weak";break;case"it":return"debole";break;case"fr":return"faible";break;case"de":return"leichter";break}if(a>=5&&a<10)switch(lang){case"en":return"moderate";break;case"it":return"debole";break;case"fr":return"modéré";break;case"de":return"mäßiger";break}if(a>=10&&a<17)switch(lang){case"en":return"strong";break;case"it":return"forte";break;case"fr":return"fort";break;case"en":return"starker";break}if(a>=17)switch(lang){case"en":return"very strong";break;case"it":return"molto forte";break;case"fr":return"trés fort";break;case"de":return"sehr starker";break}}function J(a){if(a==1)switch(lang){case"en":return"sunny";break;case"it":return"sereno";break;case"fr":return"soleil";break;case"de":return"sonnig";break}if(a==2)switch(lang){case"en":return"sunny";break;case"it":return"sereno";break;case"fr":return"soleil";break;case"de":return"sonnig";break}if(a==3)switch(lang){case"en":return"partly cloudy";break;case"it":return"poco nuvoloso";break;case"fr":return"partiellement nuageux";break;case"de":return"teils bewölkt";break}if(a==4)switch(lang){case"en":return"partly cloudy";break;case"it":return"nubi sparse";break;case"fr":return"nuages ​​épars";break;case"de":return"bewölkt";break}if(a==5)switch(lang){case"en":return"rain and sunny intervals";break;case"it":return"pioggia e schiarite";break;case"fr":return"pluie";break;case"de":return"bewölkt mit regen";break}if(a==6)switch(lang){case"en":return"rain / snow and sunny intervals";break;case"it":return"pioggia mista a neve e schiarite";break;case"fr":return"pluie et neige";break;case"de":return"regen mit schnee";break}if(a==7)switch(lang){case"en":return"snow and sunny intervals";break;case"it":return"neve e schiarite";break;case"fr":return"neige";break;case"de":return"sonnig mit schnee";break}if(a==8)switch(lang){case"en":return"very cloudy";break;case"it":return"coperto";break;case"fr":return"couvert";break;case"de":return"bedeckt";break}if(a==9)switch(lang){case"en":return"weak rain";break;case"it":return"pioggia debole";break;case"fr":return"faible pluie";break;case"de":return"leichtem regen";break}if(a==10)switch(lang){case"en":return"rainy";break;case"it":return"pioggia";break;case"fr":return"pluie";break;case"de":return"regen";break}if(a==11)switch(lang){case"en":return"snow";break;case"it":return"neve";break;case"fr":return"neige";break;case"de":return"schnee";break}if(a==12)switch(lang){case"en":return"rain and snow";break;case"it":return"pioggia mista a neve";break;case"fr":return"pluie et neige";break;case"de":return"regen mit schnee";break}if(a==13)switch(lang){case"en":return"storm";break;case"it":return"temporale";break;case"fr":return"orage";break;case"de":return"sturm";break}if(a==14)switch(lang){case"en":return"fog";break;case"it":return"nebbia";break;case"fr":return"brouillarde";break;case"de":return"nebel";break}if(a==15)switch(lang){case"en":return"fog at dawn";break;case"it":return"nebbia al mattino";break;case"fr":return"brouillard le matin";break;case"de":return"nebel am morgen";break}if(a==16)switch(lang){case"en":return"storm and sunny intervals";break;case"it":return"temporale e schiarite";break;case"fr":return"orage";break;case"de":return"gewitter und blitz";break}if(a==17)switch(lang){case"en":return"hailstorm";break;case"it":return"grandine";break;case"fr":return"averse de grêle";break;case"de":return"hagel";break}if(a==18)switch(lang){case"en":return"weak snow";break;case"it":return"neve debole";break;case"fr":return"neige légère";break;case"de":return"schneeregene";break}}function K(a){if(a==0)return 1;if(a>=.1&&a<5)return 2;if(a>=5&&a<10)return 3;if(a>=10&&a<17)return 4;if(a>=17)return 5}function L(a){if(a==0)return 1;if(a>0&&a<=.099)return 2;if(a>=.1&&a<=.499)return 3;if(a>=.5&&a<=1.249)return 4;if(a>=1.25&&a<=2.499)return 5;if(a>=2.5&&a<=3.999)return 6;if(a>=4&&a<=5.999)return 7;if(a>=6&&a<=8.999)return 8;if(a>=9&&a<=13.999)return 9;if(a>=14)return 10}function M(a){if(a==0)switch(lang){case"en":return"calm (glassy)";break;case"fr":return"calme";break;case"it":return"calmo";break;case"de":return"ruhig (glasig)";break}if(a>0&&a<=.099)switch(lang){case"en":return"calm (rippled)";break;case"fr":return"calme (ridée)";break;case"it":return"quasi calmo";break;case"de":return"ruhig (wellig)";break}if(a>=.1&&a<=.499)switch(lang){case"en":return"smooth";break;case"fr":return"belle";break;case"it":return"poco mosso";break;case"de":return"smooth";break}if(a>=.5&&a<=1.249)switch(lang){case"en":return"slight";break;case"fr":return"peu agitée";break;case"it":return"mosso";break;case"de":return"slight";break}if(a>=1.25&&a<=2.499)switch(lang){case"en":return"moderate";break;case"fr":return"agitée";break;case"it":return"molto mosso";break;case"de":return"moderate";break}if(a>=2.5&&a<=3.999)switch(lang){case"en":return"rough";break;case"fr":return"forte";break;case"it":return"agitato";break;case"de":return"rough";break}if(a>=4&&a<=5.999)switch(lang){case"en":return"very rough";break;case"fr":return"trés forte";break;case"it":return"molto agitato";break;case"de":return"very rough";break}if(a>=6&&a<=8.999)switch(lang){case"en":return"high";break;case"fr":return"grosse";break;case"it":return"grosso";break;case"de":return"very rough";break}if(a>=9&&a<=13.999)switch(lang){case"en":return"very high";break;case"fr":return"trés grosse";break;case"it":return"molto grosso";break;case"de":return"very rough";break}if(a>=14)switch(lang){case"en":return"phenomenal";break;case"fr":return"énorme";break;case"it":return"tempestoso";break;case"de":return"phenomenal";break}}function N(a){if(a>3&&a<21)return'th';switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}e=new Array,e[0]="Gennaio",e[1]="Febbraio",e[2]="Marzo",e[3]="Aprile",e[4]="Maggio",e[5]="Giugno",e[6]="Luglio",e[7]="Agosto",e[8]="Settembre",e[9]="Ottobre",e[10]="Novembre",e[11]="Dicembre",b=new Array,b[0]="January",b[1]="February",b[2]="March",b[3]="April",b[4]="May",b[5]="June",b[6]="July",b[7]="August",b[8]="September",b[9]="October",b[10]="November",b[11]="December",c=new Array,c[0]="Janvier",c[1]="Février",c[2]="Mars",c[3]="Avril",c[4]="Mai",c[5]="Juin",c[6]="Juillet",c[7]="Août",c[8]="Septembre",c[9]="Octobre",c[10]="Novembre",c[11]="Décembre",d=new Array,d[0]="Januar",d[1]="Februar",d[2]="März",d[3]="April",d[4]="Mai",d[5]="Juni",d[6]="Juli",d[7]="August",d[8]="September",d[9]="Oktober",d[10]="November",d[11]="Dezember",g=new Array,g[1]="Lun",g[2]="Mar",g[3]="Mer",g[4]="Gio",g[5]="Ven",g[6]="Sab",g[0]="Dom",f=new Array,f[1]="Lun",f[2]="Mar",f[3]="Mer",f[4]="Jeu",f[5]="Ven",f[6]="Sam",f[0]="Dim",h=new Array,h[1]="Mo",h[2]="Di",h[3]="Mi",h[4]="Do",h[5]="Fr",h[6]="Sa",h[0]="So";function V(){return lang=="it"?e:lang=="fr"?c:lang=="de"?d:b}function W(){return lang=="it"?g:lang=="fr"?f:lang=="de"?h:null}function X(){return lang=="it"?1:lang=="fr"?1:lang=="de"?1:0}function j(b,c){var a=new Date(b);return a.setDate(a.getDate()+c),a}function u(){if(lang=="it")return"it-IT";if(lang=="en")return"en-US";if(lang=="fr")return"fr-FR";if(lang=="de")return"de-DE"}function _(a){var b=window[window.GoogleAnalyticsObject],c;return b&&typeof b.getAll=='function'&&(c=b.getAll()[0],a=new window.gaplugins.Linker(c).decorate(a)),a}})})(jQuery),function(a){typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){var e="left",f="right",g="up",h="down",p="in",o="out",n="none",u="auto",y="swipe",x="pinch",r="tap",w="doubletap",v="longtap",D="hold",s="horizontal",q="vertical",l="all",A=10,t="start",j="move",b="end",c="cancel",d="ontouchstart"in window,m=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,k=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,i="TouchSwipe",z={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:200,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe=function(b){var d=a(this),c=d.data(i);if(c&&typeof b=="string"){if(c[b])return c[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!c&&(typeof b=="object"||!b))return B.apply(this,arguments);return d},a.fn.swipe.defaults=z,a.fn.swipe.phases={PHASE_START:t,PHASE_MOVE:j,PHASE_END:b,PHASE_CANCEL:c},a.fn.swipe.directions={LEFT:e,RIGHT:f,UP:g,DOWN:h,IN:p,OUT:o},a.fn.swipe.pageScroll={NONE:n,HORIZONTAL:s,VERTICAL:q,AUTO:u},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:l};function B(b){return b&&b.allowPageScroll===void 0&&(b.swipe!==void 0||b.swipeStatus!==void 0)&&(b.allowPageScroll=n),b.click!==void 0&&b.tap===void 0&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),c=d.data(i);c||(c=new C(this,b),d.data(i,c))})}function C(a$,z){var W=d||k||!z.fallbackToMouseEvents,V=W?k?m?"MSPointerDown":"pointerdown":"touchstart":"mousedown",an=W?k?m?"MSPointerMove":"pointermove":"touchmove":"mousemove",al=W?k?m?"MSPointerUp":"pointerup":"touchend":"mouseup",Q=W?null:"mouseleave",$=k?m?"MSPointerCancel":"pointercancel":"touchcancel",G=0,H=null,F=0,N=0,P=0,I=1,L=0,K=0,U=null,B=a(a$),D="start",E=0,C=null,ai=0,X=0,Y=0,aj=0,O=0,aa=null,ah=null;try{B.bind(V,ad),B.bind($,S)}catch(b){a.error("events not supported "+V+","+$+" on jQuery.swipe")}this.enable=function(){return B.bind(V,ad),B.bind($,S),B},this.disable=function(){return au(),B},this.destroy=function(){au(),B.data(i,null),B=null},this.option=function(b,c){if(z[b]!==void 0){if(c===void 0)return z[b];z[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null};function ad(f){var b,e,g;if(aF())return;if(a(f.target).closest(z.excludedElements,B).length>0)return;return b=f.originalEvent?f.originalEvent:f,g=d?b.touches[0]:b,D=t,d?E=b.touches.length:f.preventDefault(),G=0,H=null,K=null,F=0,N=0,P=0,I=1,L=0,C=aP(),U=aS(),aq(),!d||E===z.fingers||z.fingers===l||T()?(am(0,g),ai=M(),E==2&&(am(1,b.touches[1]),N=P=af(C[0].start,C[1].start)),(z.swipeStatus||z.pinchStatus)&&(e=J(b,D))):e=!1,e===!1?(D=c,J(b,D),e):(z.hold&&(ah=setTimeout(a.proxy(function(){B.trigger("hold",[b.target]),z.hold&&(e=z.hold.call(B,b,b.target))},this),z.longTapThreshold)),Z(!0),null)}function ab(f){var a=f.originalEvent?f.originalEvent:f,h,i,e,g,k;if(D===b||D===c||aE())return;i=d?a.touches[0]:a,e=aB(i),X=M(),d&&(E=a.touches.length),z.hold&&clearTimeout(ah),D=j,E==2&&(N==0?(am(1,a.touches[1]),N=P=af(C[0].start,C[1].start)):(aB(a.touches[1]),P=af(C[0].end,C[1].end),K=aX(C[0].end,C[1].end)),I=aW(N,P),L=Math.abs(N-P)),E===z.fingers||z.fingers===l||!d||T()?(H=a_(e.start,e.end),aU(f,H),G=aY(e.start,e.end),F=ay(),aQ(H,G),(z.swipeStatus||z.pinchStatus)&&(h=J(a,D)),(!z.triggerOnTouchEnd||z.triggerOnTouchLeave)&&(g=!0,z.triggerOnTouchLeave&&(k=ba(this),g=aJ(e.end,k)),!z.triggerOnTouchEnd&&g?D=ag(j):z.triggerOnTouchLeave&&!g&&(D=ag(b)),(D==c||D==b)&&J(a,D))):(D=c,J(a,D)),h===!1&&(D=c,J(a,D))}function ac(e){var a=e.originalEvent;if(d)if(a.touches.length>0)return aH(),!0;return aE()&&(E=aj),X=M(),F=ay(),ak()||!ao()?(D=c,J(a,D)):z.triggerOnTouchEnd||z.triggerOnTouchEnd==!1&&D===j?(e.preventDefault(),D=b,J(a,D)):!z.triggerOnTouchEnd&&ax()?(D=b,R(a,D,r)):D===j&&(D=c,J(a,D)),Z(!1),null}function S(){E=0,X=0,ai=0,N=0,P=0,I=1,aq(),Z(!1)}function ae(a){var c=a.originalEvent;z.triggerOnTouchLeave&&(D=ag(b),J(c,D))}function au(){B.unbind(V,ad),B.unbind($,S),B.unbind(an,ab),B.unbind(al,ac),Q&&B.unbind(Q,ae),Z(!1)}function ag(d){var a=d,f=aC(),e=ao(),g=ak();return!f||g?a=c:e&&d==j&&(!z.triggerOnTouchEnd||z.triggerOnTouchLeave)?a=b:!e&&d==b&&z.triggerOnTouchLeave&&(a=c),a}function J(e,f){var a=void 0;return aV()||at()?a=R(e,f,y):(bb()||T())&&a!==!1&&(a=R(e,f,x)),aI()&&a!==!1?a=R(e,f,w):aG()&&a!==!1?a=R(e,f,v):aK()&&a!==!1&&(a=R(e,f,r)),f===c&&S(e),f===b&&(d?e.touches.length==0&&S(e):S(e)),a}function R(d,j,k){var i=void 0;if(k==y){if(B.trigger("swipeStatus",[j,H||null,G||0,F||0,E,C]),z.swipeStatus)if(i=z.swipeStatus.call(B,d,j,H||null,G||0,F||0,E,C),i===!1)return!1;if(j==b&&ar()){if(B.trigger("swipe",[H,G,F,E,C]),z.swipe)if(i=z.swipe.call(B,d,H,G,F,E,C),i===!1)return!1;switch(H){case e:B.trigger("swipeLeft",[H,G,F,E,C]),z.swipeLeft&&(i=z.swipeLeft.call(B,d,H,G,F,E,C));break;case f:B.trigger("swipeRight",[H,G,F,E,C]),z.swipeRight&&(i=z.swipeRight.call(B,d,H,G,F,E,C));break;case g:B.trigger("swipeUp",[H,G,F,E,C]),z.swipeUp&&(i=z.swipeUp.call(B,d,H,G,F,E,C));break;case h:B.trigger("swipeDown",[H,G,F,E,C]),z.swipeDown&&(i=z.swipeDown.call(B,d,H,G,F,E,C));break}}}if(k==x){if(B.trigger("pinchStatus",[j,K||null,L||0,F||0,E,I,C]),z.pinchStatus)if(i=z.pinchStatus.call(B,d,j,K||null,L||0,F||0,E,I,C),i===!1)return!1;if(j==b&&aD())switch(K){case p:B.trigger("pinchIn",[K||null,L||0,F||0,E,I,C]),z.pinchIn&&(i=z.pinchIn.call(B,d,K||null,L||0,F||0,E,I,C));break;case o:B.trigger("pinchOut",[K||null,L||0,F||0,E,I,C]),z.pinchOut&&(i=z.pinchOut.call(B,d,K||null,L||0,F||0,E,I,C));break}}return k==r?(j===c||j===b)&&(clearTimeout(aa),clearTimeout(ah),ap()&&!aN()?(O=M(),aa=setTimeout(a.proxy(function(){O=null,B.trigger("tap",[d.target]),z.tap&&(i=z.tap.call(B,d,d.target))},this),z.doubleTapThreshold)):(O=null,B.trigger("tap",[d.target]),z.tap&&(i=z.tap.call(B,d,d.target)))):k==w?(j===c||j===b)&&(clearTimeout(aa),O=null,B.trigger("doubletap",[d.target]),z.doubleTap&&(i=z.doubleTap.call(B,d,d.target))):k==v&&(j===c||j===b)&&(clearTimeout(aa),O=null,B.trigger("longtap",[d.target]),z.longTap&&(i=z.longTap.call(B,d,d.target))),i}function ao(){var a=!0;return z.threshold!==null&&(a=G>=z.threshold),a}function ak(){var a=!1;return z.cancelThreshold!==null&&H!==null&&(a=az(H)-G>=z.cancelThreshold),a}function aT(){return z.pinchThreshold===null||L>=z.pinchThreshold}function aC(){var a;return z.maxTimeThreshold?F>=z.maxTimeThreshold?a=!1:a=!0:a=!0,a}function aU(b,c){if(z.allowPageScroll===n||T())b.preventDefault();else{var a=z.allowPageScroll===u;switch(c){case e:(z.swipeLeft&&a||!a&&z.allowPageScroll!=s)&&b.preventDefault();break;case f:(z.swipeRight&&a||!a&&z.allowPageScroll!=s)&&b.preventDefault();break;case g:(z.swipeUp&&a||!a&&z.allowPageScroll!=q)&&b.preventDefault();break;case h:(z.swipeDown&&a||!a&&z.allowPageScroll!=q)&&b.preventDefault();break}}}function aD(){var a=av(),b=aw(),c=aT();return a&&b&&c}function T(){return!!(z.pinchStatus||z.pinchIn||z.pinchOut)}function bb(){return!!(aD()&&T())}function ar(){var a=aC(),b=ao(),c=av(),d=aw(),e=ak(),f=!e&&d&&c&&b&&a;return f}function at(){return!!(z.swipe||z.swipeStatus||z.swipeLeft||z.swipeRight||z.swipeUp||z.swipeDown)}function aV(){return!!(ar()&&at())}function av(){return E===z.fingers||z.fingers===l||!d}function aw(){return C[0].end.x!==0}function ax(){return!!z.tap}function ap(){return!!z.doubleTap}function aR(){return!!z.longTap}function aA(){if(O==null)return!1;var a=M();return ap()&&a-O<=z.doubleTapThreshold}function aN(){return aA()}function aM(){return(E===1||!d)&&(isNaN(G)||G<z.threshold)}function aL(){return F>z.longTapThreshold&&G<A}function aK(){return!!(aM()&&ax())}function aI(){return!!(aA()&&ap())}function aG(){return!!(aL()&&aR())}function aH(){Y=M(),aj=event.touches.length+1}function aq(){Y=0,aj=0}function aE(){var a=!1,b;return Y&&(b=M()-Y,b<=z.fingerReleaseThreshold&&(a=!0)),a}function aF(){return!!(B.data(i+"_intouch")===!0)}function Z(a){a===!0?(B.bind(an,ab),B.bind(al,ac),Q&&B.bind(Q,ae)):(B.unbind(an,ab,!1),B.unbind(al,ac,!1),Q&&B.unbind(Q,ae,!1)),B.data(i+"_intouch",a===!0)}function am(a,b){var c=b.identifier!==void 0?b.identifier:0;return C[a].identifier=c,C[a].start.x=C[a].end.x=b.pageX||b.clientX,C[a].start.y=C[a].end.y=b.pageY||b.clientY,C[a]}function aB(a){var c=a.identifier!==void 0?a.identifier:0,b=aO(c);return b.end.x=a.pageX||a.clientX,b.end.y=a.pageY||a.clientY,b}function aO(b){for(var a=0;a<C.length;a++)if(C[a].identifier==b)return C[a]}function aP(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function aQ(b,a){a=Math.max(a,az(b)),U[b].distance=a}function az(a){return U[a]?U[a].distance:void 0}function aS(){var a={};return a[e]=_(e),a[f]=_(f),a[g]=_(g),a[h]=_(h),a}function _(a){return{direction:a,distance:0}}function ay(){return X-ai}function af(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function aW(a,b){var c=b/a*1;return c.toFixed(2)}function aX(){return I<1?o:p}function aY(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function aZ(b,c){var d=b.x-c.x,e=c.y-b.y,f=Math.atan2(e,d),a=Math.round(f*180/Math.PI);return a<0&&(a=360-Math.abs(a)),a}function a_(b,c){var a=aZ(b,c);return a<=45&&a>=0?e:a<=360&&a>=315?e:a>=135&&a<=225?f:a>45&&a<135?h:g}function M(){var a=new Date;return a.getTime()}function ba(b){var c,d;return b=a(b),c=b.offset(),d={left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()},d}function aJ(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}}}),function(a){a.fn.shorten=function(c){"use strict";var b={showChars:100,minHideChars:10,ellipsesText:"...",moreText:"more",lessText:"less",onLess:function(){},onMore:function(){},errMsg:null,force:!1};return!(c&&a.extend(b,c),a(this).data('jquery.shorten')&&!b.force)&&(a(this).data('jquery.shorten',!0),a(document).off("click",'.morelink'),a(document).on({click:function(){var c=a(this);return c.hasClass('less')?(c.removeClass('less'),c.html(b.moreText),c.parent().prev().animate({height:'0%'},0,'linear',function(){c.parent().prev().prev().show()}).hide(0,function(){b.onLess()})):(c.addClass('less'),c.html(b.lessText),c.parent().prev().animate({height:'100%'},0,'linear',function(){c.parent().prev().prev().hide()}).show(0,function(){b.onMore()})),!1}},'.morelink'),this.each(function(){var f=a(this),c=f.html(),n=f.text().length,k,h,i,l,e,g,d,m,o;if(n>b.showChars+b.minHideChars){if(k=c.substr(0,b.showChars),k.indexOf('<')>=0){h=!1,i='',l=0,e=[],g=null;for(d=0,m=0;m<=b.showChars;d++)if(c[d]=='<'&&!h&&(h=!0,g=c.substring(d+1,c.indexOf('>',d)),g[0]=='/'?g!='/'+e[0]?b.errMsg='ERROR en HTML: the top of the stack should be the tag that closes':e.shift():g.toLowerCase()!='br'&&e.unshift(g)),h&&c[d]=='>'&&(h=!1),h)i+=c.charAt(d);else if(m++,l<=b.showChars)i+=c.charAt(d),l++;else if(e.length>0){for(j=0;j<e.length;j++)i+='</'+e[j]+'>';break}k=a('<div/>').html(i+'<span class="ellip">'+b.ellipsesText+'</span>').html()}else k+=b.ellipsesText;o='<div class="shortcontent">'+k+'</div><div class="allcontent">'+c+'</div><span><a href="javascript://nop/" class="morelink">'+b.moreText+'</a></span>',f.html(o),f.find(".allcontent").hide(),a('.shortcontent p:last',f).css('margin-bottom',0)}}))}}(jQuery)